<html>

<head>

</head>

<body>

    <h1>HELLO WORLD</h1>

    <br>
    <button id="request">CLICK ME</button>
    <br>
    <br>
    <h4>Accelerometer</h4>
    <ul>
        <li>X-axis: <span id="Accelerometer_x">0</span><span></span></li>
        <li>Y-axis: <span id="Accelerometer_y">0</span><span></span></li>
        <li>Z-axis: <span id="Accelerometer_z">0</span><span></span></li>
        <li>Data Interval: <span id="Accelerometer_i">0</span><span> ms</span></li>
    </ul>
    <br>
    <br>
    <h4>DeviceMotionEvent</h4>
    <br><br>
    <span id="dme"></span>
    <br><br>
    <span id="dmea"></span>

    <br>
    <br>

    <br>
    <br>




    <script>
        try {
            var deviceMotionEvent = new DeviceMotionEvent("devicemotion", [acceleration]);
            var acceleration = deviceMotionEvent.acceleration;

            document.getElementById("dme").innerHTML = deviceMotionEvent;
            document.getElementById("dmea").innerHTML = acceleration;

            function updateFieldIfNotNull(fieldName, value, precision = 10) {
                if (value != null)
                    document.getElementById(fieldName).innerHTML = value;
            }




            let demo_button = document.getElementById("request");
            demo_button.onclick = function(e) {
                e.preventDefault();

                updateFieldIfNotNull('Accelerometer_x', acceleration.x);
                updateFieldIfNotNull('Accelerometer_y', acceleration.y);
                updateFieldIfNotNull('Accelerometer_z', acceleration.z);
            };


        } catch (e) {
            window.alert(e);
            console.error(e)
        }
    </script>
</body>

</html>